<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>blair studio v0.5.0</title>
    <meta
      name="description"
      content="upload your upscaled cropped image, add all character info and click the send to discord button"
    />
    <meta
      name="keywords"
      content="anime, card frame, trading card, png template, character card, cardmaker, tcg, discord"
    />
    <link rel="canonical" href="https://blairstudio.pages.dev/" />
    <meta property="og:locale" content="en_US" />
    <meta
      name="robots"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />
    <meta name="author" content="blair" />
    <meta name="publisher" content="blair" />
    <meta name="rating" content="general" />
    <meta name="audience" content="all" />
    <meta name="theme-color" content="#0b0b0b" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta property="og:site_name" content="blair studio" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="blair card gen v0.5.0" />
    <meta
      property="og:description"
      content="upload your upscaled cropped image, add all character info and click the send to discord button"
    />
    <meta property="og:url" content="https://sethispr.github.io/blair-utils/" />
    <meta
      property="og:image"
      content="https://cdn.jsdelivr.net/gh/Sethispr/blair-top.gg/assets/blairshowcasenowgoplayblairorelse.webp"
    />
    <meta property="og:image:alt" content="card preview" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@blair" />
    <meta name="twitter:creator" content="@blair" />
    <meta name="twitter:title" content="blair card gen v0.5.0" />
    <meta
      name="twitter:description"
      content="upload your upscaled cropped image, add all character info and click the send to discord button"
    />
    <meta
      name="twitter:image"
      content="https://cdn.jsdelivr.net/gh/Sethispr/blair-top.gg/assets/blairshowcasenowgoplayblairorelse.webp"
    />
    <meta name="twitter:image:alt" content="card preview" />
    <link
      rel="icon"
      href="https://cdn.jsdelivr.net/gh/Sethispr/blair-top.gg/assets/IMG_7174.png"
      type="image/png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="https://cdn.jsdelivr.net/gh/Sethispr/blair-top.gg/assets/IMG_7174.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="https://cdn.jsdelivr.net/gh/Sethispr/blair-top.gg/assets/IMG_7174.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="https://cdn.jsdelivr.net/gh/Sethispr/blair-top.gg/assets/IMG_7174.png"
    />
    <meta name="msapplication-TileColor" content="#0b0b0b" />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "blair card gen v0.5.0",
        "url": "https://blairstudio.pages.dev/",
        "description": "upload your upscaled cropped image, add all character info and click the send to discord button",
        "applicationCategory": "GraphicsApplication",
        "operatingSystem": "All",
        "author": {
          "@type": "Organization",
          "name": "blair"
        },
        "image": "https://cdn.jsdelivr.net/gh/Sethispr/blair-top.gg/assets/blairshowcasenowgoplayblairorelse.webp",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD",
          "availability": "https://schema.org/InStock"
        }
      }
    </script>

    <link
      rel="alternate"
      hreflang="en"
      href="https://blairstudio.pages.dev/"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
    <link
      rel="preload"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Lexend+Deca:wght@300;400;600;700&family=Sora:wght@400;600;700&display=swap"
      as="style"
      onload="this.rel = 'stylesheet'"
    />
    <noscript
      ><link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Lexend+Deca:wght@300;400;600;700&family=Sora:wght@400;600;700&display=swap"
        rel="stylesheet"
    /></noscript>
<script type="module" src="./main.js"></script>
    <!-- Colorthief package for auto dominant color from uploaded images
         This isnt that good the plan now is to either find a more powerful library
         or add a link button to imagecolorpicker.com or add a pixel color picker-->
    <script
      defer
      src="https://unpkg.com/colorthief/dist/color-thief.umd.js"
    ></script>
    <!-- Font Awesome icons
         Their using a fake minified file sadly, although I can defer to using the critical css needed
         It makes the performance of the website horrible somehow from 99 -> 72 (I probably did sth wrong)
         Loaded with the print media then switched to all for performance -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      integrity="sha512-..."
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      media="print"
      onload="this.media = 'all'"
    />
  </head>

  <body>
    <!-- Main app wrapper -->
    <main class="wrap">
      <!-- Top navi bar -->
      <header class="topbar">
        <h1 class="title">Card Frame</h1>
        <div class="top-actions">
          <button
            id="clearAllBtn"
            class="btn btn-ghost"
            title="Clear all inputs"
          >
            <i class="fa-solid fa-broom"></i>
          </button>
          <button
            id="topbarDownloadBtn"
            class="btn btn-ghost"
            title="Download PNG"
          >
            <i class="fa-solid fa-download"></i>
          </button>
        </div>
      </header>

      <!-- Help panel -->
      <section class="help-panel collapsed" id="helpPanel" aria-live="polite">
        <div class="help-header">
          <strong>Welcome Tutorial</strong>
          <button
            id="toggleHelpBtn"
            class="btn btn-ghost small"
            aria-expanded="false"
            title="Show / hide instructions"
          >
            <i class="fa-solid fa-chevron-down"></i>
          </button>
        </div>
        <div class="collapsible-content">
          <div class="help-steps-content">
            <p>
              Begin by uploading your artwork (required, JPG/PNG supported).
            </p>
            <p>
              Input the Character Name, Series Title, and Print Number. Use the
              X button next to any text field to quickly clear it.
            </p>
            <!-- Color selection explanation (really outdated) -->
            <p>
              The card frame color is automatically detected from your image.
              You may override this by selecting a swatch from the color palette
              or choosing a Custom Color. The Custom Color swatch displays the
              currently active frame color.
            </p>
            <p>
              Once satisfied with the preview, click Download PNG to save your
              finished card image.
            </p>
            <button
              id="restartTutorialBtn"
              class="btn small"
              type="button"
              style="margin-top: 10px"
            >
              <i class="fa-solid fa-rotate-left" style="margin-right: 6px"></i
              >Start Tutorial
            </button>
          </div>
          <p class="help-tip">
            Tip: If the automatic color choice looks off, pick a different
            palette swatch or use the Custom Color tool, then reupload to
            restore a previous dominant color.
          </p>
        </div>
      </section>

      <!-- Live preview showing the framed card 290x416px card size
           This later gets upscaled when sending or downloading
           using the export 2.5x which changes it to 725x1040 px (THIS IS THE CARD DIMENSIONS BLAIR USES!!) -->
      <section class="preview" id="previewWrap">
        <canvas
          id="frameCanvas"
          width="290"
          height="416"
          aria-label="Card frame preview"
          style="width: 290px; height: 416px; display: block"
        ></canvas>
      </section>

      <!-- Main section -->
      <section class="controls">
        <div class="card-inputs-container">
          <div class="card-input-set" id="card1Controls" data-step="1">
            <h2 style="margin: 0">
              <span class="step-badge">Step 1</span> Upload Image
            </h2>
            <div class="input-group">
              <div class="file-row">
                <div class="dropzone-wrapper">
                  <div
                    class="dropzone"
                    id="dropzone1"
                    data-target-input="imageUpload1"
                    tabindex="0"
                    role="button"
                    aria-label="Upload image or drop here"
                    style="
                      min-height: 44px;
                      padding: 12px 14px;
                      margin-top: 12px;
                    "
                  >
                    <div class="dz-left">
                      <div class="dz-icon" aria-hidden="true" title="Upload">
                        <i class="fa-solid fa-cloud-arrow-up"></i>
                      </div>
                      <div class="dz-text">
                        <div class="dz-title">Upload artwork</div>
                        <div class="dz-sub">
                          PNG or WEBP - recommended 725x1040px+
                        </div>
                        <div class="dz-actions">
                          <button
                            class="btn drop-choose"
                            type="button"
                            id="dropChooseBtn"
                          >
                            <i
                              class="fa-solid fa-folder-open"
                              aria-hidden="true"
                              style="margin-right: 10px"
                            ></i
                            >Choose file
                          </button>
                          <button
                            class="btn btn-ghost clear-btn"
                            data-clear-card="1"
                            title="Clear card 1"
                          >
                            <i class="fa-solid fa-trash"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="dz-right">
                      <div
                        class="dz-hint filename"
                        id="filename1"
                        aria-live="polite"
                        style="margin-top: 6px"
                      ></div>
                    </div>
                  </div>
                  <!-- Dupe filename display but legacy -->
                  <span
                    class="filename"
                    id="filename1"
                    aria-live="polite"
                  ></span>
                </div>
                <input
                  type="file"
                  id="imageUpload1"
                  accept="image/*"
                  aria-describedby="colorStatus1"
                  style="display: none"
                />
              </div>
              <div class="card-controls-row">
                <!-- Show the color used in the frame -->
                <p
                  id="colorStatus1"
                  class="muted small-info"
                  aria-live="polite"
                ></p>
              </div>
            </div>
            <!-- Auto color palette generated from image
                 Can select from those colors or use custom color picker -->
            <h2><span class="step-badge">Step 2</span> Select Color</h2>
            <div class="palette hidden" id="palette1"></div>
            <p id="paletteHint1" class="muted small-info">
              No image uploaded. Default color will be used.
            </p>
            <div class="input-group top-pad">
              <!-- Custom color picker section, VERY barebones rn and probs most users dont know abt this
                   But now also supports custom hes code so it'd be more visible to cardmakers -->
              <div class="color-input-wrapper">
                <!-- Color picker
                     Default val: #969696 (lightish gray) -->
                <input
                  type="color"
                  id="customColor1"
                  value="#969696"
                  aria-describedby="colorStatus1"
                  title="Pick a color"
                />
                <!-- Custom hex code input -->
                <input
                  type="text"
                  id="customColorHex1"
                  class="hex-input"
                  value="#969696"
                  aria-label="Custom hex color"
                  placeholder="#RRGGBB"
                />
                <small class="small-info"
                  >Enter hex code (e.g. #fff271) or use picker</small
                >
              </div>
            </div>
            <!-- Show uploaded image -->
            <div class="input-group">
              <input type="checkbox" id="showImage1" checked />
              <label for="showImage1">Show Uploaded Image</label>
              <small class="small-info">Uncheck to show frame only</small>
            </div>

            <!-- Show alignment lines -->
            <div class="input-group">
              <input type="checkbox" id="showGuides1" />
              <label for="showGuides1">Toggle Guides</label>
              <small class="small-info"
                >Use center lines for alignment, prioritize face center
                alignment, head should at least be near the head outline, head
                should be above around the cyan line, chest should be above the
                yellow line or print number bg part</small
              >
            </div>
            <!-- Character name, series title, and optional print number 
                 Now we auto removes print no. if you send to Discord rather than blocking the req -->
            <h3><span class="step-badge">Step 3</span> Card Text</h3>
            <!-- Character name input form. -->
            <div class="input-group">
              <label for="charName1">Character Name</label>
              <div class="input-with-clear">
                <input
                  type="text"
                  id="charName1"
                  placeholder="e.g. Hu Tao"
                  value=""
                />
                <button
                  class="clear-input-btn"
                  data-target="charName1"
                  title="Clear Character Name"
                >
                  <i class="fa-solid fa-xmark"></i>
                </button>
              </div>>
              <div
                class="length-warning muted small-info"
                id="charWarn1"
                aria-live="polite"
              ></div>
            </div>
            <div class="input-group">
              <label for="seriesTitle1">Series Title</label>
              <div class="input-with-clear">
                <input
                  type="text"
                  id="seriesTitle1"
                  placeholder="e.g. Genshin Impact"
                  value=""
                />
                <button
                  class="clear-input-btn"
                  data-target="seriesTitle1"
                  title="Clear Series Title"
                >
                  <i class="fa-solid fa-xmark"></i>
                </button>
              </div>
              <div
                class="length-warning muted small-info"
                id="seriesWarn1"
                aria-live="polite"
              ></div>
            </div>
            <!-- Print number (optional for preview) ex: #67 -->
            <div class="input-group">
              <label for="printNumber1">Print Number (optional)</label>
              <div class="input-with-clear">
                <input
                  type="text"
                  id="printNumber1"
                  placeholder="e.g. #1"
                  value=""
                />
                <button
                  class="clear-input-btn"
                  data-target="printNumber1"
                  title="Clear Print Number"
                >
                  <i class="fa-solid fa-xmark"></i>
                </button>
              </div
              <small class="small-info"
                >Print number is <strong>not needed</strong> if you are
                submitting a card</small
              >
            </div>

            <!-- Auto suggestions panel -->
            <div
              id="crosscheckPanel"
              class="crosscheck-panel open"
              aria-hidden="false"
            >
              <div class="crosscheck-header">
                <strong>Top matches</strong>
                <div class="crosscheck-actions">
                  <button
                    id="crosscheckCloseBtn"
                    class="btn btn-ghost small"
                    title="Toggle results"
                  >
                    <i class="fa-solid fa-chevron-up"></i>
                  </button>
                </div>
              </div>
              <div class="crosscheck-body">
                <div class="crosscheck-section" id="crosscheckCharacter">
                  <div class="crosscheck-title">Character matches</div>
                  <div class="crosscheck-list" id="crosscheckCharList"></div>
                </div>
                <div class="crosscheck-section" id="crosscheckSeries">
                  <div class="crosscheck-title">
                    Series matches (Use English)
                  </div>
                  <div class="crosscheck-list" id="crosscheckSeriesList"></div>
                </div>
              </div>
            </div>

            <div class="form-actions">
              <div class="quick-actions" aria-hidden="false">
                <button
                  id="fillExampleBtn"
                  class="btn btn-ghost small"
                  type="button"
                  title="Auto-fill example values (grandma-friendly)"
                  aria-label="Fill example values"
                >
                  <i class="fa-solid fa-seedling" style="margin-right: 8px"></i
                  >Fill Example
                </button>
                <!-- Basically cleans up the name if you have trailing whitespaces or double spaces kinda like a linter -->
                <button
                  id="cleanTextBtn"
                  class="btn btn-ghost small"
                  type="button"
                  title="Clean up name/series (trim, collapse spaces)"
                  aria-label="Clean text"
                >
                  <i class="fa-solid fa-broom" style="margin-right: 8px"></i
                  >Clean Text
                </button>
              </div>

              <!-- Sends card data to Discord webhook to our #content channel -->
              <button
                id="sendDiscordBtn"
                class="btn btn-discord"
                type="button"
                title="Send card details to Discord"
              >
                <i class="fa-brands fa-discord" style="margin-right: 8px"></i
                >Send to Discord
              </button>

              <!-- Clear all button (dupe) -->
              <button
                id="clearAllBtn2"
                class="btn btn-ghost small clear-all-top"
                title="Clear all inputs"
              >
                <i class="fa-solid fa-broom" style="margin-right: 8px"></i>Clear
                All
              </button>

              <!-- Download .png button (dupe too) -->
              <button
                id="downloadBtn"
                class="btn"
                type="button"
                title="Download PNG"
              >
                <i class="fa-solid fa-download" style="margin-right: 8px"></i
                >Download PNG
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Cardmaker resources -->
      <section
        class="help-panel collapsed"
        id="resourcesPanel"
        aria-live="polite"
      >
        <div class="help-header">
          <strong>Cardmaker Resources</strong>
          <button
            id="toggleResourcesBtn"
            class="btn btn-ghost small"
            aria-expanded="false"
            title="Show / hide resources"
          >
            <i class="fa-solid fa-chevron-down"></i>
          </button>
        </div>
        <div class="collapsible-content">
          <div class="resource-categories">
            <div class="resource-group">
              <h4>Image Upscaling</h4>
              <ul>
                <li>
                  <a href="https://www.waifu2x.net/" target="_blank"
                    >waifu2x (Web)</a
                  >
                </li>
                <li>
                  <a href="https://unlimited.waifu2x.net/" target="_blank"
                    >unlimited:waifu2x</a
                  >
                </li>
                <li>
                  <a href="https://upscayl.org/" target="_blank"
                    >Upscayl (Desktop)</a
                  >
                </li>
              </ul>
            </div>
            <div class="resource-group">
              <h4>Image Sources</h4>
              <ul>
                <li>
                  <a href="https://danbooru.donmai.us/" target="_blank"
                    >Danbooru</a
                  >
                </li>
                <li>
                  <a href="https://safebooru.org/" target="_blank">Safebooru</a>
                </li>
                <li>
                  <a href="https://gelbooru.com/" target="_blank">Gelbooru</a>
                </li>
                <li><a href="https://x.com/" target="_blank">X</a></li>
                <li>
                  <a
                    href="https://www.zerochan.net/Official+Art"
                    target="_blank"
                    >Zerochan Official Art Tags (Search within Official Art)</a
                  >
                </li>
                <li>
                  <a href="https://mudae.net/" target="_blank">Mudae.net</a>
                </li>
                <li>
                  <a
                    href="https://everythingmoe.com/?section=artboard"
                    target="_blank"
                    >Everythingmoe</a
                  >
                </li>
              </ul>
            </div>
            <div class="resource-group">
              <h4>Reverse Image Search</h4>
              <ul>
                <li>
                  <a href="https://images.google.com/" target="_blank"
                    >Google Images</a
                  >
                </li>
                <li>
                  <a href="https://saucenao.com/" target="_blank">SauceNao</a>
                </li>
                <li>
                  <a href="https://copyseeker.net/" target="_blank"
                    >Copyseeker</a
                  >
                </li>
                <li>
                  <a href="https://image.baidu.com/" target="_blank">Baidu</a>
                </li>
                <li>
                  <a href="https://yandex.com/images/" target="_blank"
                    >Yandex</a
                  >
                </li>
              </ul>
            </div>
            <div class="resource-group">
              <h4>Series Checker</h4>
              <ul>
                <li>
                  <a href="https://myanimelist.net/" target="_blank"
                    >MyAnimeList</a
                  >
                </li>
                <li>
                  <a href="https://anilist.co/" target="_blank">Anilist</a>
                </li>
                <li><a href="https://kitsu.io/" target="_blank">Kitsu</a></li>
                <li>
                  <a
                    href="https://everythingmoe.com/?section=database"
                    target="_blank"
                    >everythingmoe</a
                  >
                </li>
              </ul>
            </div>
            <div class="resource-group">
              <h4>Lossless Compression</h4>
              <ul>
                <li>
                  <a
                    href="https://github.com/Sethispr/blair-utils"
                    target="_blank"
                    >Blair Utils (needs Rust/Python, uses Oxipng, batch
                    compressor)</a
                  >
                </li>
                <li>
                  <a href="https://free.tinypng.site/" target="_blank"
                    >TinyPNG (Upload final card image, press blue "Edit" button,
                    select Oxipng, set compression level 3, interlace off, no
                    batch support)</a
                  >
                </li>
                <li><s>Squoosh (select Oxipng, BUGGED)</s></li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer (just empty for now) -->
      <footer class="meta"></footer>
    </main>

    <!-- Toast notifs -->
    <div id="toast-container"></div>

    <!-- Tutorial walkthrough -->
    <div id="tutorial-overlay" style="display: none">
      <div id="tutorial-backdrop"></div>
      <div id="tutorial-popover" class="tutorial-popover">
        <div class="popover-content">
          <div id="tutorial-title" class="popover-title"></div>
          <div id="tutorial-body" class="popover-body"></div>
        </div>
        <div class="popover-footer">
          <span id="tutorial-step-indicator" class="step-indicator"></span>
          <div class="popover-actions-group">
            <button id="tutorial-skip-btn" class="btn btn-ghost small">
              Skip
            </button>
            <button
              id="tutorial-prev-btn"
              class="btn btn-ghost small"
              style="display: none"
            >
              Previous
            </button>
            <button id="tutorial-next-btn" class="btn small">Next</button>
          </div>
        </div>
      </div>
    </div>
    <div id="confirm-modal" class="confirm-modal" aria-hidden="true">>
      <div class="confirm-backdrop" id="confirm-backdrop"></div>
      <div
        class="confirm-sheet"
        role="dialog"
        aria-modal="true"
        aria-labelledby="confirm-title"
        aria-describedby="confirm-body"
      >
        <div class="confirm-header">
          <h3 id="confirm-title">Confirm submission</h3>
          <button id="confirm-close" class="btn btn-ghost small" title="Close">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
        <div class="confirm-body" id="confirm-body">
          <div class="confirm-row">
            <strong>Character</strong>
            <div id="confirm-name" class="confirm-val"></div>
          </div>>
          <div class="confirm-row">
            <strong>Series</strong>
            <div id="confirm-series" class="confirm-val"></div>
          </div>

          <!-- Wiki links are given here -->
          <div id="confirm-wiki" class="confirm-wiki"></div>
        </div>
        <div class="confirm-actions">
          <button
            id="copyEmbedColorBtn"
            class="btn btn-ghost small"
            title="Copy embed color hex"
          >
            <i class="fa-solid fa-palette" style="margin-right: 8px"></i>Copy
            color
          </button>
          <button id="confirm-cancel" class="btn btn-ghost small">
            Cancel
          </button>
          <button id="confirm-send" class="btn btn-discord small">
            <i class="fa-brands fa-discord" style="margin-right: 8px"></i>Send
            to Discord
          </button>
        </div>
      </div>
    </div>

    <!-- Loading screen for the lossless compression step takes around 1 minute ish -->
    <div
      id="loading-overlay"
      aria-hidden="true"
      class="loading-overlay"
      style="display: none"
    >
      <div class="loading-backdrop"></div>
      <div
        class="loading-card"
        role="status"
        aria-live="polite"
        aria-atomic="true"
      >
        <div class="spinner" aria-hidden="true"></div>
        <div
          style="display: flex; flex-direction: column; gap: 8px; width: 100%"
        >
          <div id="loading-message" class="loading-message">Working…</div>

          <!-- Fake progress bar, the jsquash/oxipng doesn't have support for it rn -->
          <div class="loading-progress" aria-hidden="false" style="width: 100%">
            <div class="loading-progress-row">
              <div id="loading-subtext" class="loading-subtext">
                This may take a minute…
              </div>
              <div
                id="loading-percent"
                class="loading-percent"
                aria-hidden="true"
              >
                0%
              </div>
            </div>
            <div
              class="progress-track"
              role="progressbar"
              aria-valuemin="0"
              aria-valuemax="100"
              aria-valuenow="0"
            >
              <div
                id="progress-fill"
                class="progress-fill"
                style="width: 0%"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
